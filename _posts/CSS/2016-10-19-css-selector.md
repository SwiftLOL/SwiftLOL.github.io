---
layout: post
title: CSS权威指南--选择器
categories: CSS
description: CSS选择器
keywords: CSS、Selector
---

<style type="text/css">
code {color: rgb(135,185,98) !important;}
</style>
## Overview
  CSS通过使用一组样式声明应用在一组元素上，来改变对应元素的表现。所有在我们装饰页面的时候，需要通过一种方式来指定一组元素、声明一组样式命令。CSS为我们提供了CSS选择器和样式声明块来实现这个目的。


### 基本规则
  首先我们通过一个例子来了解一下规则。比如:

  `h1 {color:red; background:yellow;}`

  上面的文本代表了CSS的规则。这个文本的意思就是设置所有的h1元素的前景颜色为红色，背景色为黄色。<br>
  其中h1被称为选择器，用来选择一组元素，以便对他们的样式进行修改。<br>
  其中`{color:red; background:yellow;}`为声明块，声明块中是一个大括号包起来的一组键值对,每个键值对之间用分号(;)隔开，分号代表前一个声明的结束符。键为元素的某个样式的属性名，值为样式属性的值,通常值为一个关键字，或者一组属性可取关键字的一个列表，关键字之间用空格隔开。

  *如果一个声明中使用了不正确的属性或者不正确的值，整个声明都会被忽略。*


### 一般选择器

#### 1. 元素选择器
  元素选择器使用元素标签名选择元素，比如:

  `p {color: red;}`

  其中p为元素选择器，也就是p元素选择器，它会选择文档中所有的p元素，并对他们的字体颜色应用为红色。
  元素选择器一般为body及body内的元素选择器，也可以使用html作为选择器，但html元素的head元素及其内部的元素不适用。


#### 2. 通配符选择器
  通配符(`*`)用来选择所有当前条件下的所有元素，比如:

  `* {color: red;}`

  这个命令将选中所有的元素，并改变他们的文本字体颜色。


#### 3.分组选择器
* 我们可以使用逗号对元素进行分组，将相同的样式都应用在他们身上。比如:

  `h1, h2 {color: red}`

  这样的话，会选中所有的h1、h2元素，将他们的字体颜色都改变成红色。

* 其实我们也可以对属性进行分组，一次对一组元素使用一组样式，比如:

   `h1, h2 {color: white; background: red; font-size: 10px;}`

  这样的话，所有的h1、h2的字体颜色都会变成白色，背景色为红色，字体大小为10px。


#### 4. 类选择器
  有时候，我们有特殊的需求，对特定的一组元素使用一组样式，而不关心他们到底是什么元素。这时候，我们一般使用类选择器来实现。通过对这些特殊的元素设置相同的class属性值，就能够使用这个class值来对他们的样式进行操作。比如:

  `.warning {color: black}`

  上面的例子中，我们使用了点(.)结合符来声明一个类选择器，后面的warning为某些元素的class属性值。凡是class属性值中含有warning字符串的都会被选中，他们的字体颜色都会被css修改为黑色。

  其实我们还可以对选中的范围缩小，比如，p.warning会选择所有class属性值为warning的p元素

  我们也将类选择器组合成多类选择器:比如:

  `.warning.tip {color: black}`

  这个选择器会选中class属性的值中，同时含有warning、tip两个字符串的元素。


#### 5. ID选择器
  有时候，我们需要为特定的某个元素设置样式，这时候，我们可以通过ID选择器来实现。
  ID选择器是通过一个棋盘号(#)紧跟id值来实现。比如:

  `#haha {color: red}`

  上面的选择器会选中id属性值为haha的元素，并改变他们的字体颜色为红色.


#### 6. 属性选择器
  我们也可以通过属性的特定条件创建选择器,属性选择器的结合符为中括号[]，中间为属性的条件。

  * 选择元素中包含某个特定属性的一组元素。
  比如:<br>
   `[href] {color: red}`<br>
   这个选择器和样式声明块，会选择元素中含有href属性的所有元素。

  * 选择元素标签中同时含有多个属性的选择器。
  比如:<br>
  `[href][title] {color: red;}`<br>
  选中那些开始标签中同时含有href和title属性的一组元素。

  * 根据属性值选择。
     * 属性值等于具体某个值的选择器:<br>
     `[href="www.baidu.com"] {color: red}`<br>
     这种属性值必须和元素的属性值完全相同，比如class属性有多个值，使用属性值选择器时，他们出现的排列顺序必须完全相同。
     * 属性值中含有某个值的选择器:<br>
     `[class=~"warning"] {color: red}`<br>
     选中那些class属性值为warning或者多个class属性值中有一个等于warning的一组元素.
     * 属性值以某个字符串开始的选择器:<br>
     `[class^="warning"] {color: red}`<br>
     选中那些clas属性值中有一个以waning字符串开始的一组元素.
     * 属性值以某个字符串结尾的选择器:<br>
     `[class$="warning"] {color: red;}`<br>
     选中那些class属性值中有一个以warning结尾的字符串.
     * 属性值中包含某个字符串的选择器:<br>
     `[class*="warnig" {color: red}]`<br>
     选择那些class属性的某个值中包含warning这个字符串的一组元素。

     * 属性值为某个字符串或者以某个字符串开始的选择器:<br>
     `[lang |= "en"]`<br>
     选择那些lang属性是en或者以en开头的一组元素。

note:<br>
     * id选择器、类选择器在部分浏览器中区分大小写！！！ <br>
     * id选择器的棋盘号(#)、类选择器的点符号(.)、属性选择器的中括号([])，他们既是特定的结合符，又是分割符，我们可以把他们和其他可能结合的部分分开
     比如,他们都可以和元素选择器相结合，比如：`p.warning {color: red}`
     * 选择器之间可以随意组合。


### 结构选择器

#### 1. 后代选择器
  在选择某个具体类型元素的具体类型子元素或者后代元素的时候，我们需要使用后代选择器。
  后代选择器是以空格隔开的一组选择器，比如:<br>
  `div p {color:red;}`<br>
  选中div的后代元素中的所有p元素。

#### 2. 子选择器
  有时候只想选中子元素，而不想选中后代元素，我们可以使用子选择器实现。
  子选择器用大于号(>)来表示，比如:<br>
  `div > p {color: red;}`<br>
  选中div的所有p子元素.

#### 3.相邻兄弟元素
当你想选中某个元素的相邻兄弟元素的时候，可以使用兄弟元素选择器。
兄弟元素选择器以加号(+)作为结合符。比如:<br>
`h1 + p {color: red;}`<br>
选中与h1元素相邻的并且是p标签的元素。

*两个元素之间的文本内容对相邻兄弟元结合符不会起影响作用。*


### 伪元素和伪类选择器
  伪类和伪元素选择器才真正的有些意思。使用这些选择器可以不考虑文档的结构，也不考虑具体的标记，可以为文档中不一定具体存在的结构指定样式，或者可以为某些元素的状态所指示的幻象类指定样式。

#### 1.伪类选择器
  伪类其实是CSS定义的一些类，我们可以把它想象成，CSS为每个元素都添加了一个伪类的属性，当某个条件发生改变的时候，CSS就会修改这个属性的值。

  伪类必须应用在具体的选择器上，也就是必须应用在具体的元素上，只使用伪类无意义，比如:`link {color: red}`<br>

##### * 链接伪类
  CSS2.1中定义了两个链接伪类,:link和:visited，他们分别对应未被访问和已被访问的a元素。<br>

  `a:link {color: red}  a:visited {color: black}`<br>

  a标签会根据自己的状态调整自己的字体颜色。
  如果我们想对外部的链接指定样式，可以这么做:<br>

  `a.external:link {color: red;}  a.external:visited {color: black}`<br>

  :link对应的a标签一旦被访问过，就永久的为:visited对应的样式了。不可动态的变化。

##### * 动态伪类
  在css2.1中定义了一些通用的伪类，比如:<br>

  * :focus  当前拥有输入焦点的元素被选中。
  * :hover  当前鼠标指针停留在的那个元素。
  * :active 被用户输入激活的元素被选中。比如指针停留在a上，当点击时，被激活。
  * :first-child 通过:first-child某个元素的第一个特定类型的子元素。比如:`p:first-child {color:red;}`,他会选中所有p元素中，那些是父元素的第一个子元素的p元素。
  * :lang(langName) 选中lang属性为指定字符串或者以指定字符串开头的元素。

    *在通过伪状态设置样式的时候，应该遵循一定的顺序: link->visited->focus->hover->active,也就是说visited一定在focus、hover、active之前。*

我们也可以将伪类结合起来使用，比如:<br>

`a:link:hover {color: red;}`<br>

选中未被访问过的当前鼠标悬停在其上的a元素.

#### 2.伪元素选择器
伪元素就好像在文档中插入假想的元素，从而对齐应用某种样式。所有伪元素必须出现在选择器的最后面。

* 设置首字母样式
:first-letter伪元素选择器会为改变所有元素的首字母的样式。
:first-line伪元素选择器会选中块级元素的第一行文本的额样式。

* 设置之前和之后元素的样式
:before允许在指定元素之前插入内容，并且对这些内容应用一些样式。
:after允许在指定元素之后插入内容， 并且对这些内容应用一些样式.

比如:<br>
     `p {content: "ahhahaha"; color: blue}`;
